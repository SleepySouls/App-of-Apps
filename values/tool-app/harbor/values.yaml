harbor:

  expose:
    type: nodePort # Set expose type to nodePort
    tls:
      enabled: false # Explicitly disable TLS for NodePort exposure
      # certSource: auto # Not relevant if TLS is disabled
    nodePort:
      name: harbor
      ports:
        http:
          port: 30080 # HTTP NodePort
        https:
          port: 30443 # HTTPS NodePort (will be created but not used for externalURL)
        # notary:
        #   port: 30093 # Notary NodePort (if enabled)

  # External URL should reflect the NodePort and the external IP/hostname
  externalURL: http://localhost:30080 # IMPORTANT: Ensure this is HTTP and matches your NodePort

  harborAdminPassword: Harbor12345 # Change this to a strong password!

  
  persistence:
    enabled: true
    resourcePolicy: "keep"
    persistentVolumeClaim:
      registry:
        size: 5Gi
      chartmuseum:
        size: 2Gi
      jobservice:
        size: 1Gi
      database:
        size: 1Gi
      redis:
        size: 1Gi
      trivy:
        size: 2Gi

  database:
    type: internal

  redis:
    type: internal

  trivy:
    enabled: true
    securityScanner:
      enabled: true
      vulnerabilityType: os,library

  notary:
    enabled: true
    persistence:
      enabled: true
      resourcePolicy: "keep"
      persistentVolumeClaim:
        size: 1Gi

  chartmuseum:
    enabled: true
    persistence:
      enabled: true
      resourcePolicy: "keep"
      persistentVolumeClaim:
        size: 2Gi

  portal:
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m

  core:
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m

  jobservice:
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m

  registry:
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m

  chartmuseum:
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m

  trivy:
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m
