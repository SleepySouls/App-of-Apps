harbor:
  expose:
    type: ingress
    tls:
      enabled: false # Explicitly disable TLS for internal Harbor components
    ingress:
      enabled: true
      hosts:
        core: harbor.khangvu.dev # Your desired hostname for Harbor
      className: nginx
      annotations:
        nginx.ingress.kubernetes.io/proxy-body-size: "0"
        nginx.ingress.kubernetes.io/ssl-redirect: "false" # No SSL redirect for HTTP
        nginx.ingress.kubernetes.io/backend-protocol: "HTTP" # Important for Nginx to talk HTTP to Harbor
        nginx.ingress.kubernetes.io/proxy-read-timeout: "600"
        nginx.ingress.kubernetes.io/proxy-send-timeout: "600"
      tls:
        enabled: false # Explicitly disable TLS for the Ingress resource
  externalURL: http://harbor.khangvu.dev # Use HTTP URL for internal components

  harborAdminPassword: Harbor12345 # Change this to a strong password!

  
  persistence:
    enabled: true
    resourcePolicy: "keep"
    persistentVolumeClaim:
      registry:
        size: 5Gi
      chartmuseum:
        size: 2Gi
      jobservice:
        size: 1Gi
      database:
        size: 1Gi
      redis:
        size: 1Gi
      trivy:
        size: 2Gi

  database:
    type: internal

  redis:
    type: internal

  trivy:
    enabled: true
    securityScanner:
      enabled: true
      vulnerabilityType: os,library

  notary:
    enabled: true
    persistence:
      enabled: true
      resourcePolicy: "keep"
      persistentVolumeClaim:
        size: 1Gi

  chartmuseum:
    enabled: true
    persistence:
      enabled: true
      resourcePolicy: "keep"
      persistentVolumeClaim:
        size: 2Gi

  portal:
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m

  core:
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m

  jobservice:
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m

  registry:
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m

  chartmuseum:
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m

  trivy:
    resources:
      requests:
        memory: 256Mi
        cpu: 100m
      limits:
        memory: 512Mi
        cpu: 200m
